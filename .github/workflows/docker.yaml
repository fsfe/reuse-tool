# SPDX-FileCopyrightText: 2019 Free Software Foundation Europe e.V. <https://fsfe.org>
# SPDX-FileCopyrightText: 2022 Carmen Bianca Bakker <carmenbianca@fsfe.org>
#
# SPDX-License-Identifier: GPL-3.0-or-later

name: Docker

on: [push, pull_request]

jobs:
  docker:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v2
      - name: Build Dockerfile
        run: |
          docker build -t reuse .
      - name: Run Docker image
        run: |
          docker run -v "$(pwd):/data" reuse
      - name: Build Dockerfile-extra
        run: |
          docker build -t reuse-extra --file Dockerfile-extra .
      - name: Run Docker extra image
        run: |
          docker run -v "$(pwd):/data" reuse-extra
      - name: Build Dockerfile-debian
        run: |
          docker build -t reuse-debian --file Dockerfile-debian .
      - name: Run Docker debian image
        run: |
          docker run -v "$(pwd):/data" reuse-debian
